#include <math.h>
#include <PAWSlibrary.h>

// FOR TILEMAP DEMO
unsigned char tilemap_bitmap[] = {
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 0
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    GREEN, GREEN, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, GREEN, GREEN, 0x40,
    GREEN, GREEN, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, GREEN, GREEN, 0x40,
    BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 1
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, RED, RED, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, RED, RED, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, GREEN, GREEN, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, GREEN, GREEN, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, VIOLET, VIOLET, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, VIOLET, VIOLET, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 2
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 3
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 4
    RED, RED, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, RED, RED, 0x40,
    RED, RED, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, RED, RED, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 5
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 6
    RED, RED, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    RED, RED, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 7
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, GREEN, GREEN, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, GREEN, GREEN, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 8
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    BLUE, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    INDIGO, INDIGO, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,     // 9
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, RED, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    ORANGE, ORANGE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, ORANGE, ORANGE, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    YELLOW, YELLOW, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, YELLOW, YELLOW, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, GREEN, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, INDIGO, INDIGO, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, VIOLET, VIOLET, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40
};

// BLITTER BITMAPS - ALIENS FROM SPACE INVADERS
unsigned short blitter_bitmaps[] = {
    0b0000011000000000,
    0b0000111110000000,
    0b0001111111000000,
    0b0011011011000000,
    0b0011111111000000,
    0b0001011010000000,
    0b0010000001000000,
    0b0001000010000000,
    0,0,0,0,0,0,0,0,

    0b0000011000000000,
    0b0000111110000000,
    0b0001111111000000,
    0b0011011011000000,
    0b0011111111000000,
    0b0000100100000000,
    0b0001011010000000,
    0b0010100101000000,
    0,0,0,0,0,0,0,0,

    0b0010000010000000,
    0b0001000100000000,
    0b0011111110000000,
    0b0110111011000000,
    0b1111111111100000,
    0b1011111110100000,
    0b1010000010100000,
    0b0001101100000000,
    0,0,0,0,0,0,0,0,

    0b0010000010000000,
    0b1001000100100000,
    0b1011111110100000,
    0b1110111011100000,
    0b1111111111100000,
    0b0111111111000000,
    0b0010000010000000,
    0b0100000001000000,
    0,0,0,0,0,0,0,0,

    0b0000111100000000,
    0b0111111111100000,
    0b1111111111110000,
    0b1110011001110000,
    0b1111111111110000,
    0b0011100111000000,
    0b0110011001100000,
    0b0011000011000000,
    0,0,0,0,0,0,0,0,

    0b0000111100000000,
    0b0111111111100000,
    0b1111111111110000,
    0b1110011001110000,
    0b1111111111110000,
    0b0001100110000000,
    0b0011011011000000,
    0b1100000000110000,
    0,0,0,0,0,0,0,0
};

// STORAGE FOR COLOUR BLITTER
unsigned char colour_blitter_strings[][16] = {

    "....C.C.........",
    "....C.C.........",
    "C..CCCCC..C.....",
    "CCCCYCYCCCC.....",
    "...CCCCC........",
    ".BBBCCCBBB......",
    "BBB.CCC.BBB.....",
    "BB...C...BB.....",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",

    "....C.C.........",
    "C...C.C...C.....",
    "CCCCCCCCCCC.....",
    "...CYCYC........",
    "BBBCCCCCBBB.....",
    "BB.CCCCC.BB.....",
    "B...CCC...B.....",
    ".....C..........",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",

    "C...C.C...C.....",
    "C..CCCCC..C.....",
    ".CCCYCYCCC......",
    "B..CCCCC..B.....",
    "BBBBCCCBBBB.....",
    ".BB.CCC.BB......",
    ".....C..........",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................"
};
unsigned char colour_blitter_bitmap[ 256 ];

// PACMAN GHOST GRAPHICS - FULL COLOUR -  2 EACH FOR RIGHT, DOWN, LEFT, UP
unsigned char ghost_strings[][16] = {

    "......CCCC......",
    "....CCCCCCCC....",
    "...CCCCCCCCCC...",
    "..CCCCCCCCCCCC..",
    "..CCCWWCCCCWWC..",
    "..CCWWBBCCWWBB..",
    ".CCCWWBBCCWWBBC.",
    ".CCCWWWCCCWWWWC.",
    ".CCCCWWCCCCWWCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CC.CCC..CCC.CC.",
    ".C...CC..CC...C.",
    "................",

    "......CCCC......",
    "....CCCCCCCC....",
    "...CCCCCCCCCC...",
    "..CCCCCCCCCCCC..",
    "..CCCWWCCCCWWC..",
    "..CCWWBBCCWWBB..",
    ".CCCWWBBCCWWBBC.",
    ".CCCWWWCCCWWWWC.",
    ".CCCCWWCCCCWWCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCC.CCCC.CCCC.",
    "..CC...CC...CC..",
    "................",

    "......CCCC......",
    "....CCCCCCCC....",
    "...CCCCCCCCCC...",
    "..CCCCCCCCCCCC..",
    "..CCWWCCCCWWCC..",
    "..CWWWWCCWWWWC..",
    ".CCWWWWCCWWWWCC.",
    ".CCWBBWCCWBBWCC.",
    ".CCCBBCCCCBBCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CC.CCC..CCC.CC.",
    ".C...CC..CC...C.",
    "................",

    "......CCCC......",
    "....CCCCCCCC....",
    "...CCCCCCCCCC...",
    "..CCCCCCCCCCCC..",
    "..CCWWCCCCWWCC..",
    "..CWWWWCCWWWWC..",
    ".CCWWWWCCWWWWCC.",
    ".CCWBBWCCWBBWCC.",
    ".CCCBBCCCCBBCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCC.CCCC.CCCC.",
    "..CC...CC...CC..",
    "................",

    "......CCCC......",
    "....CCCCCCCC....",
    "...CCCCCCCCCC...",
    "..CCCCCCCCCCCC..",
    "..CWWCCCCWWCCC..",
    "..BBWWCCBBWWCC..",
    ".CBBWWCCBBWWCCC.",
    ".CWWWWCCWWWWCCC.",
    ".CCWWCCCCWWCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CC.CCC..CCC.CC.",
    ".C...CC..CC...C.",
    "................",

    "......CCCC......",
    "....CCCCCCCC....",
    "...CCCCCCCCCC...",
    "..CCCCCCCCCCCC..",
    "..CWWCCCCWWCCC..",
    "..BBWWCCBBWWCC..",
    ".CBBWWCCBBWWCCC.",
    ".CWWWWCCWWWWCCC.",
    ".CCWWCCCCWWCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCC.CCCC.CCCC.",
    "..CC...CC...CC..",
    "................",

    "......CCCC......",
    "....BBCCCCBB....",
    "...WBBWCCWBBW...",
    "..CWWWWCCWWWWC..",
    ".CCWWWWCCWWWWCC.",
    ".CCCWWCCCCWWCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CC.CCC..CCC.CC.",
    ".C...CC..CC...C.",
    "................",

    "......CCCC......",
    "....BBCCCCBB....",
    "...WBBWCCWBBW...",
    "..CWWWWCCWWWWC..",
    ".CCWWWWCCWWWWCC.",
    ".CCCWWCCCCWWCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCCCCCCCCCCCC.",
    ".CCCC.CCCC.CCCC.",
    "..CC...CC...CC..",
    "................"
};

// PACMAN POWER GHOST GRAPHICS - FULL COLOUR -  2 BLUE 2 WHITE
unsigned char power_ghost_strings[][16] = {
    "......bbbb......",
    "....bbbbbbbb....",
    "...bbbbbbbbbb...",
    "..bbbbbbbbbbbb..",
    "..bbbbbbbbbbbb..",
    "..bbbPPbbPPbbb..",
    ".bbbbPPbbPPbbbb.",
    ".bbbbbbbbbbbbbb.",
    ".bbbbbbbbbbbbbb.",
    ".bbbbbbbbbbbbbb.",
    ".bbbbbbbbbbbbbb.",
    ".bbPPbbPPbbPPbb.",
    ".bPbbPPbbPPbbPb.",
    ".bb.bbb..bbb.bb.",
    ".b...bb..bb...b.",
    "................",

    "......bbbb......",
    "....bbbbbbbb....",
    "...bbbbbbbbbb...",
    "..bbbbbbbbbbbb..",
    "..bbbbbbbbbbbb..",
    "..bbbPPbbPPbbb..",
    ".bbbbPPbbPPbbbb.",
    ".bbbbbbbbbbbbbb.",
    ".bbbbbbbbbbbbbb.",
    ".bbbbbbbbbbbbbb.",
    ".bbbbbbbbbbbbbb.",
    ".bbPPbbPPbbPPbb.",
    ".bPbbPPbbPPbbPb.",
    ".bbbb.bbbb.bbbb.",
    "..bb...bb...bb..",
    "................",

    "......WWWW......",
    "....WWWWWWWW....",
    "...WWWWWWWWWW...",
    "..WWWWWWWWWWWW..",
    "..WWWWWWWWWWWW..",
    "..WWWPPWWPPWWW..",
    ".WWWWPPWWPPWWWW.",
    ".WWWWWWWWWWWWWW.",
    ".WWWWWWWWWWWWWW.",
    ".WWWWWWWWWWWWWW.",
    ".WWWWWWWWWWWWWW.",
    ".WWPPWWPPWWPPWW.",
    ".WPWWPPWWPPWWPW.",
    ".WW.WWW..WWW.WW.",
    ".W...WW..WW...W.",
    "................",

    "......WWWW......",
    "....WWWWWWWW....",
    "...WWWWWWWWWW...",
    "..WWWWWWWWWWWW..",
    "..WWWWWWWWWWWW..",
    "..WWWPPWWPPWWW..",
    ".WWWWPPWWPPWWWW.",
    ".WWWWWWWWWWWWWW.",
    ".WWWWWWWWWWWWWW.",
    ".WWWWWWWWWWWWWW.",
    ".WWWWWWWWWWWWWW.",
    ".WWPPWWPPWWPPWW.",
    ".WPWWPPWWPPWWPW.",
    ".WWWW.WWWW.WWWW.",
    "..WW...WW...WW..",
    "................",

    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",

    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",

    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",

    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................",
    "................"
};

// Storage for expanding the sprite bitmaps into
unsigned char colour_sprite_bitmap[2048];

// PACMAN - 4 FOR UP, USE ROTATION OF UP FOR RIGHT, DOWN AND LEFT
unsigned char pacman_bitmap[] = {
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0x40, 0x40, 0x40, 0x40, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40,
    0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40
};

unsigned char pacman_maze_bitmaps[] = { // 1 corner, 1 v line, rotate and reflect for remainder
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, BLUE, BLUE, BLUE, BLUE, BLUE,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,

    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, BLUE, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40
};
char pacman_maze[][42] = {
    "..........................................",
    "..........................................",
    "..........................................",
    "..........................................",
    "888888888888888888888888888888888888888888",
    "..........................................",
    "..........................................",
    "7777777772..17777772..17777772..1777777777",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    "8888888883..48888883..48888883..4888888888",
    "..........................................",
    "..........................................",
    "7777777772..17777772..17777772..1777777777",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    ".........5..6......5..6......5..6.........",
    "8888888883..48888883..48888883..4888888888",
    "..........................................",
    "..........................................",
    "777777777777777777777777777777777777777777",
    "..........................................",
    "..........................................",
    "..........................................",
    ".........................................."
};

char *backgroundnames[] = {
    "BKG_SOLID",
    "BKG_5050_V",
    "BKG_5050_H",
    "BKG_QUARTERS",
    "BKG_RAINBOW",
    "BKG_SNOW",
    "BKG_STATIC",
    "BKG_CHKBRD_1",
    "BKG_CHKBRD_2",
    "BKG_CHKBRD_3",
    "BKG_CHKBRD_4",
    "BKG_HATCH",
    "BKG_LSLOPE",
    "BKG_RSLOPE",
    "BKG_VSTRIPE",
    "BKG_HSTRIPE"
};

char *dithernames[] = {
    "DITHEROFF",
    "DITHERCHECK1",
    "DITHERCHECK2",
    "DITHERCHECK3",
    "DITHERVSTRIPE",
    "DITHERHSTRIPE",
    "DITHERHATCH",
    "DITHERLSLOPE",
    "DITHERRSLOPE",
    "DITHERLTRIANGLE",
    "DITHERRTRIANGLE",
    "DITHERX",
    "DITHERCROSS",
    "DITHERBRICK",
    "DITHER64COLSTATIC",
    "DITHER2COLSTATIC"
};

void displayreset( void ) {
    // RESET THE DISPLAY
    screen_mode( 0, MODE_RGBM, 0 ); bitmap_256( false );
    gpu_cs();
    tpu_cs();
    tilemap_scrollwrapclear( LOWER_LAYER, TM_CLEAR );
    tilemap_scrollwrapclear( UPPER_LAYER, TM_CLEAR );
    set_background( BLACK, BLACK, BKG_SOLID );
    for( short i = 0; i < 16; i++ ) {
        set_sprite_attribute( LOWER_LAYER, i, SPRITE_ACTIVE, 0 );
        set_sprite_attribute( UPPER_LAYER, i, SPRITE_ACTIVE, 0 );
    }
}

// DISPLAY COLOUR CHART
void colourtable( void ) {
    displayreset();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "Colour Test" );

    unsigned char colour = 0;
    for( unsigned short y = 0; y < 16; y++ ) {
        for( unsigned short x = 0; x < 16; x++ ) {
            gpu_rectangle( colour, x * 20, y * 15, 19 + x * 30, 14 + y * 15 );
            colour++;
        }
    }

    // CYCLE THROUGH COLOUR MODES
    for( short i = 0; i < 2; i++ ) {
        screen_mode( 0, i, 0 );
        sleep1khz( 2000, 0 );
    }
}

// DISPLAY THE BACKGROUNDS
void backgrounddemo( void ) {
    displayreset();
    tpu_print_centre( 58, TRANSPARENT, WHITE, 1, "Background Generator Test" );

    for( unsigned char bkg = 0; bkg < 16; bkg++ ) {
        set_background( PURPLE, ORANGE, bkg );
        tpu_print_centre( 59, TRANSPARENT, WHITE, 0, backgroundnames[bkg] );
        sleep1khz( 1000, 0 );
    }

    displayreset();

    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "COPPER Rainbow Stars Test" );

    unsigned short memoryinit[8] = {
        WHITE,
        RED,
        ORANGE,
        YELLOW,
        GREEN,
        LTBLUE,
        PURPLE,
        MAGENTA
    };
    copper_set_memory( memoryinit );                        tpu_set( 0, 0, TRANSPARENT, WHITE ); tpu_print( 1, "MEM = { WHITE, RED, ORANGE, YELLOW, GREEN, LTBLUE, PURPLE, MAGENTA }" );

    copper_program( 0, CU_SET, CU_BM, CU_RL, BKG_SNOW );    tpu_set( 0, 2 , TRANSPARENT, WHITE ); tpu_print( 1, "00 SET BM <- BKG_SNOW     // SET MODE TO SNOW" );
    copper_program( 1, CU_SET, CU_BA, CU_RL, BLACK );       tpu_set( 0, 3 , TRANSPARENT, WHITE ); tpu_print( 1, "01 SET BA <- BLACK        // SET ALT TO BLACK" );
    copper_program( 2, CU_SET, CU_BC, CU_RL, WHITE );       tpu_set( 0, 4 , TRANSPARENT, WHITE ); tpu_print( 1, "02 SET BC <- WHITE        // SET COLOUR TO WHITE" );

    copper_program( 3, CU_SET, CU_R0, CU_RL, 0 );           tpu_set( 0, 6 , TRANSPARENT, WHITE ); tpu_print( 1, "03 SET R0 <- 0            // SET R0 TO 0" );

    copper_program( 4, CU_SET, CU_R1, CU_RR, CU_R0 );       tpu_set( 0, 8 , TRANSPARENT, WHITE ); tpu_print( 1, "04 SET R1 <- (R0)         // SET R1 TO R0" );
    copper_program( 5, CU_SHL, CU_R1, CU_RL, 6 );           tpu_set( 0, 9 , TRANSPARENT, WHITE ); tpu_print( 1, "05 SHL R1 << 6            // SHIFT LEFT R1 BY 6" );
    copper_program( 6, CU_LFM, CU_R2, CU_RR, CU_R0 );       tpu_set( 0, 10, TRANSPARENT, WHITE ); tpu_print( 1, "06 LFM R2 <- [ (R0) ]     // LOAD R2 FROM MEM[R0]" );

    copper_program( 7, CU_SEQ, CU_RY, CU_RR, CU_R1 );       tpu_set( 0, 12, TRANSPARENT, WHITE ); tpu_print( 1, "07 SEQ Y == (R1)          // SKIP IF Y == R1?" );
    copper_program( 8, CU_JPL, 7 );                         tpu_set( 0, 13, TRANSPARENT, WHITE ); tpu_print( 1, "08 JPL 7                  // ELSE JUMP TO 7" );

    copper_program( 9, CU_SET, CU_BC, CU_RR, CU_R2 );       tpu_set( 0, 15, TRANSPARENT, WHITE ); tpu_print( 1, "09 SET BC <- (R2)         // SET COLOUR TO R2" );
    copper_program( 10, CU_ADD, CU_R0, CU_RL, 1 );          tpu_set( 0, 16, TRANSPARENT, WHITE ); tpu_print( 1, "10 ADD R0 <- (R0) + 1     // ADD 1 TO R0" );
    copper_program( 11, CU_AND, CU_R0, CU_RL, 7 );          tpu_set( 0, 17, TRANSPARENT, WHITE ); tpu_print( 1, "11 AND R0 <- (R0) & 7     // AND R0 BY 7" );
    copper_program( 12, CU_JPL, 4 );                        tpu_set( 0, 18, TRANSPARENT, WHITE ); tpu_print( 1, "12 JPL 4                  // JUMP TO 4" );

    copper_startstop( 1 ); sleep1khz( 4000, 0 );

    displayreset(); copper_startstop( 0 );

    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "COPPER Random Colour Stars Test" );

    copper_program( 0, CU_SET, CU_BM, CU_RL, BKG_SNOW );    tpu_set( 0, 2 , TRANSPARENT, WHITE ); tpu_print( 1, "00 SET BM <- BKG_SNOW     // SET MODE TO SNOW" );
    copper_program( 1, CU_SET, CU_BA, CU_RL, BLACK );       tpu_set( 0, 3 , TRANSPARENT, WHITE ); tpu_print( 1, "01 SET BA <- BLACK        // SET ALT TO BLACK" );
    copper_program( 2, CU_SET, CU_BC, CU_RL, WHITE );       tpu_set( 0, 4 , TRANSPARENT, WHITE ); tpu_print( 1, "02 SET BC <- WHITE        // SET COLOUR TO WHITE" );

    copper_program( 3, CU_RND, CU_BC, CU_RL, 255 );         tpu_set( 0, 5 , TRANSPARENT, WHITE ); tpu_print( 1, "03 SET BC <- RANDOM & 255 // SET COLOUR TO RANDOM & 255" );
    copper_program( 4, CU_JPL, 3 );                         tpu_set( 0, 6 , TRANSPARENT, WHITE ); tpu_print( 1, "04 JPL 3                  // JUMP TO 3" );

    copper_startstop( 1 ); sleep1khz( 4000, 0 );

    displayreset(); copper_startstop( 0 );

    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "COPPER Vertical Coloured Bars" );

    copper_program( 0, CU_SET, CU_BM, CU_RL, BKG_SOLID );   tpu_set( 0, 2 , TRANSPARENT, WHITE ); tpu_print( 1, "00 SET BM <- BKG_SOLID    // SET MODE TO SOLID" );
    copper_program( 1, CU_SET, CU_BA, CU_RL, BLACK );       tpu_set( 0, 3 , TRANSPARENT, WHITE ); tpu_print( 1, "01 SET BA <- BLACK        // SET ALT TO BLACK" );
    copper_program( 2, CU_SET, CU_BC, CU_RL, BLACK );       tpu_set( 0, 4 , TRANSPARENT, WHITE ); tpu_print( 1, "02 SET BC <- BLACK        // SET COLOUR TO BLACK" );

    copper_program( 3, CU_SET, CU_R0, CU_RR, CU_RX );       tpu_set( 0, 5 , TRANSPARENT, WHITE ); tpu_print( 1, "03 SET R0 <- (RX)         // SET R0 TO RX" );
    copper_program( 4, CU_SET, CU_BC, CU_RR, CU_R0 );       tpu_set( 0, 6 , TRANSPARENT, WHITE ); tpu_print( 1, "04 SET BC <- (R0)         // SET COLOUR TO R0" );
    copper_program( 5, CU_JPL, 3 );                         tpu_set( 0, 7 , TRANSPARENT, WHITE ); tpu_print( 1, "05 JPL 3                  // JUMP TO 3" );

    copper_startstop( 1 ); sleep1khz( 2000, 0 );

    displayreset(); copper_startstop( 0 );

    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "COPPER Horizontal Coloured Bars" );

    copper_program( 0, CU_SET, CU_BM, CU_RL, BKG_SOLID );   tpu_set( 0, 2 , TRANSPARENT, WHITE ); tpu_print( 1, "00 SET BM <- BKG_SOLID    // SET MODE TO SOLID" );
    copper_program( 1, CU_SET, CU_BA, CU_RL, BLACK );       tpu_set( 0, 3 , TRANSPARENT, WHITE ); tpu_print( 1, "01 SET BA <- BLACK        // SET ALT TO BLACK" );
    copper_program( 2, CU_SET, CU_BC, CU_RL, BLACK );       tpu_set( 0, 4 , TRANSPARENT, WHITE ); tpu_print( 1, "02 SET BC <- BLACK        // SET COLOUR TO BLACK" );

    copper_program( 3, CU_SET, CU_R0, CU_RR, CU_RY );       tpu_set( 0, 5 , TRANSPARENT, WHITE ); tpu_print( 1, "03 SET R0 <- (RY)         // SET R0 TO RY" );
    copper_program( 4, CU_SET, CU_BC, CU_RR, CU_R0 );       tpu_set( 0, 6 , TRANSPARENT, WHITE ); tpu_print( 1, "04 SET BC <- (R0)         // SET COLOUR TO R0" );
    copper_program( 5, CU_JPL, 3 );                         tpu_set( 0, 7 , TRANSPARENT, WHITE ); tpu_print( 1, "05 JPL 3                  // JUMP TO 3" );

    copper_startstop( 1 ); sleep1khz( 2000, 0 );
}

// PUT SOME OBJECTS ON THE TILEMAP AND WRAP LOWER LAYER UP AND LEFT , UPPER LAYER DOWN AND RIGHT
void tilemapdemo( void ) {
    displayreset();
    set_background( WHITE, DKBLUE, BKG_SNOW );
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "Tilemap Scroll With Wrap Test" );

    unsigned char x, y, count, colour, actionflag;
    (void)tilemap_scrollwrapclear( LOWER_LAYER, TM_CLEAR );
    (void)tilemap_scrollwrapclear( UPPER_LAYER, TM_CLEAR );

    for( unsigned char tile_number = 0; tile_number < 10; tile_number++ ) {
        set_tilemap_bitmap( LOWER_LAYER, tile_number + 1, &tilemap_bitmap[ tile_number * 256 ] );
        set_tilemap_bitmap( UPPER_LAYER, tile_number + 1, &tilemap_bitmap[ tile_number * 256 ] );
    }

    // PLACE NUMBERS ALONG THE TOP (LOWER LAYER) AND MIDDLE (UPPER LAYER)
    x = 0; y = 2; count = 0; actionflag = 0;
    for( unsigned char i = 0; i < 168; i++ ) {
        set_tilemap_tile( LOWER_LAYER, x, y, count + 1, actionflag & 7 );
        set_tilemap_tile( UPPER_LAYER, x, y + 16, count + 1, actionflag & 7 );

        y = ( x == 41 ) ? y + 1 : y;
        x = ( x == 41 ) ? 0 : x + 1;

        count = ( count == 9 ) ? 0 : count + 1;
        actionflag++;
    }

    for( unsigned short i = 0; i < 512; i++ ) {
        await_vblank();
        // LOWER LEFT AND UP 1 PIXEL AT A TIME
        (void)tilemap_scrollwrapclear( LOWER_LAYER, TM_LEFT, 1 );
        (void)tilemap_scrollwrapclear( LOWER_LAYER, TM_UP, 1 );
        // UPPER RIGHT AND DOWN 2 PIXELS AT A TIME
        (void)tilemap_scrollwrapclear( UPPER_LAYER, TM_RIGHT, 2 );
        (void)tilemap_scrollwrapclear( UPPER_LAYER, TM_DOWN, 2 );
        await_vblank_finish();
    }
}

// WORK THROUGH THE VARIOUS GPU FUNCTIONS
void gpudemo( void ) {
    unsigned short i;
    short x1, y1, x2, y2, x3, y3;
    unsigned char colour;

    displayreset();

    // POINTS
    gpu_cs();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Plot Pixels Test" );
    for( i = 0; i < 2048; i++ ) {
        gpu_pixel( rng( 256 ), rng( 320 ), rng( 240 ) );
    }
    sleep1khz( 1000, 0 );

    // LINES
    gpu_cs();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Line Drawing Test" );
    for( i = 0; i < 1024; i++ ) {
        gpu_line( rng( 256 ), rng( 320 ), rng( 240 ), rng( 320 ), rng( 240 ) );
    }
    sleep1khz( 1000, 0 );

    // WIDE LINES
    gpu_cs();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Wide Line Drawing Test" );
    for( i = 0; i < 1024; i++ ) {
        gpu_wideline( rng( 256 ), rng( 320 ), rng( 240 ), rng( 320 ), rng( 240 ), rng(8) + 1 );
    }
    sleep1khz( 1000, 0 );

    // RECTANGLES
    gpu_cs();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Rectangle Drawing Test - Solid & Dither" );
    for( i = 0; i < 1024; i++ ) {
        gpu_dither( rng(16), rng( 256 ) );
        gpu_rectangle( rng( 256 ), rng( 352 ) - 16, rng( 256 ) - 8, rng( 352 ) - 16, rng( 256 ) - 8 );
    }
    gpu_dither( DITHEROFF );
    sleep1khz( 1000, 0 );

    // CIRCLES
    gpu_cs();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Circle Drawing Test - Solid & Dither" );
    for( i = 0; i < 1024; i++ ) {
        gpu_dither( rng(16), rng( 256 ) );
        gpu_circle( rng( 256 ), rng( 352 ) - 16, rng( 256 ) - 8, rng( 32 ), 255, rng( 1 ) );
    }
    gpu_dither( DITHEROFF );
    sleep1khz( 1000, 0 );

    // TRIANGLES
    gpu_cs();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Triangle Drawing Test - Solid & Dither" );
    for( i = 0; i < 1024; i++ ) {
        x1 = rng( 352 ) - 16; y1 = rng( 256 ) - 8;
        x2 = x1 + rng( 100 ); y2 = y1 + rng( 100 );
        x3 = x2 - rng( 100 ); y3 = y1 + rng( 100 );
        gpu_dither( rng(16), rng( 256 ) );
        gpu_triangle( rng( 256 ), x1, y1, x2, y2, x3, y3 );
    }
    gpu_dither( DITHEROFF );
    sleep1khz( 1000, 0 );

    // BLITTER
    // SET BLITTER OBJECTS - ALIENS
    for( short i = 0; i < 6; i++ ) {
        set_blitter_bitmap( i, &blitter_bitmaps[ 16 * i ] );
    }
    gpu_cs();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Blitter Test - REFLECT & ROTATE" );
    for( i = 0; i < 128; i++ ) {
        gpu_blit( rng( 256 ), rng( 352 ) - 16, rng( 256 ) - 8, rng( 6 ), rng( 4 ), rng(8) );
    }
    sleep1khz( 1000, 0 );

    // CHARACTER BLITTER
    gpu_cs();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Character Blitter Test - REFLECT & ROTATE" );
    for( i = 0; i < 128; i++ ) {
        gpu_character_blit( rng( 256 ), rng( 352 ) - 16, rng( 256 ) - 8, rng( 256 ), rng( 4 ), rng(8) );
    }
    sleep1khz( 1000, 0 );

    // COLOUR BLITTER
    // SET COLOUR BLITTER OBJECTS - ALIENS FROM GALAXIAN
    // SET COLOUR BLITTER OBJECTS - ALIENS FROM GALAXIAN
    for( short i = 0; i < 3; i++ ) {
        for( short j = 0; j < 3; j++ ) {
            for( short y = 0; y < 16; y++ ) {
                for( short x = 0; x < 16; x++ ) {
                    switch( colour_blitter_strings[ j * 16 + y ][x] ) {
                        case '.':
                            colour = TRANSPARENT;
                            break;
                        case 'B':
                            colour = BLUE3;
                            break;
                        case 'C':
                            switch( i ) {
                                case 0:
                                    colour = RED3;
                                    break;
                                case 1:
                                    colour = PURPLE;
                                    break;
                                case 2:
                                    colour = 0x24;
                                    break;
                            }
                            break;
                        case 'Y':
                            colour = ( i == 0 ) ? 0xf0 : 0xc0;
                            break;
                    }
                    colour_blitter_bitmap[ y * 16 + x ] = colour;
                }
            }
            set_colourblitter_bitmap( i * 3 + j, &colour_blitter_bitmap[ 0 ] );
        }
    }

    gpu_cs();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Colour Blitter Test - REFLECT & ROTATE" );
    for( i = 0; i < 128; i++ ) {
        gpu_colourblit( rng( 352 ) - 16, rng( 256 ) - 8, rng( 9 ), rng( 4 ), rng(8) );
    }
    sleep1khz( 1000, 0 );
}

void ditherdemo( void ) {
    unsigned char dithermode = 0;
    unsigned short x, y;

    displayreset();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "GPU Dither Modes" );

    for( y = 0; y < 4; y++ ) {
        for( x = 0; x < 4; x++ ) {
            gpu_dither( dithermode, PURPLE );
            gpu_rectangle( ORANGE, x * 80, y * 60, x * 80 + 79, y * 60 + 59 );
            gpu_printf_centre( BLACK, x * 80 + 40, y * 60 + 4, NORMAL, 0, 0, dithernames[dithermode++] );
        }
    }
    gpu_dither( DITHEROFF );
    sleep1khz( 2000, 0 );
}

unsigned char tune_treble[] = {  24, 36, 31, 28, 36, 30, 24, 27,  0,
                                 36, 37, 32, 29, 37, 32, 25, 29,  0,
                                 24, 36, 31, 28, 36, 30, 24, 27,  0,
                                 28, 29, 30,  0, 30, 31, 32,  0, 32, 33, 34,  0, 36,  0, 0xff };
unsigned short size_treble[] = { 16, 16, 16, 16,  8,  8, 16, 16, 16,
                                 16, 16, 16, 16,  8,  8, 16, 16, 16,
                                 16, 16, 16, 16,  8,  8, 16, 16, 16,
                                  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8, 24,  8, 0xff };


unsigned char tune_bass[] = {   12,  0,  0, 19, 12,  0,  0, 20,
                                13,  0,  0, 20, 13,  0,  0, 19,
                                12,  0,  0, 19, 12,  0,  0, 20,
                                19,  0, 20,  0, 22,  0,  24, 0, 0xff };

unsigned char harmonic_wave[256] = {
127,137,147,156,165,174,182,190,196,203,208,213,216,220,223,225,226,
228,229,230,231,232,233,234,235,236,238,239,241,243,245,247,249,250,
252,253,254,254,254,253,252,251,249,246,243,240,237,234,231,227,224,
222,219,217,216,215,215,215,216,217,219,221,223,225,228,230,233,234,
236,237,238,238,237,236,234,231,228,224,220,215,210,204,199,194,188,
183,178,174,169,166,162,159,156,154,152,150,148,146,144,143,141,139,
136,134,131,128,125,122,118,115,111,108,105,102,99,97,96,95,95,
96,97,99,102,105,108,113,117,122,127,132,137,141,146,149,152,
155,157,158,159,159,158,157,155,152,149,146,143,139,136,132,129,126,
123,120,118,115,113,111,110,108,106,104,102,100,98,95,92,88,85,
80,76,71,66,60,55,50,44,39,34,30,26,23,20,18,17,16,
16,17,18,20,21,24,26,29,31,33,35,37,38,39,39,39,38,
37,35,32,30,27,23,20,17,14,11,8,5,3,2,1,0,0,
0,1,2,4,5,7,9,11,13,15,16,18,19,20,21,22,23,
24,25,26,28,29,31,34,38,41,46,51,58,64,72,80,89,98,
107,117
};

void spritedemo( void ) {
    unsigned short animation_count = 0, ghost_animation_frame = 0, move_count = 0, do_power = 0, power = 0;
    char ghost_direction[4] = { 0, 1, 2, 3 };
    unsigned short trebleposition = 0, bassposition = 0, updateflag;

    wavesample_upload( CHANNEL_BOTH, harmonic_wave );

    displayreset();
    tpu_print_centre( 59, TRANSPARENT, WHITE, 1, "SPRITE Demo" );

    for( unsigned char tile_number = 0; tile_number < 2; tile_number++ ) {
        set_tilemap_bitmap( LOWER_LAYER, tile_number + 1, &pacman_maze_bitmaps[ tile_number * 256 ] );
    }

    for( short y = 0; y < 32; y++ ) {
        for( short x = 0; x < 42; x++ ) {
            switch( pacman_maze[y][x] ) {
                case '.':
                    set_tilemap_tile( LOWER_LAYER, x, y, 0, 0 );
                    break;
                case '1':
                    set_tilemap_tile( LOWER_LAYER, x, y, 1, 0 );
                    break;
                case '2':
                    set_tilemap_tile( LOWER_LAYER, x, y, 1, ROTATE90 );
                    break;
                case '3':
                    set_tilemap_tile( LOWER_LAYER, x, y, 1, ROTATE180 );
                    break;
                case '4':
                    set_tilemap_tile( LOWER_LAYER, x, y, 1, ROTATE270 );
                    break;
                case '5':
                    set_tilemap_tile( LOWER_LAYER, x, y, 2, ROTATE180 );
                    break;
                case '6':
                    set_tilemap_tile( LOWER_LAYER, x, y, 2, 0 );
                    break;
                case '7':
                    set_tilemap_tile( LOWER_LAYER, x, y, 2, ROTATE90 );
                    break;
                case '8':
                    set_tilemap_tile( LOWER_LAYER, x, y, 2, ROTATE270 );
                    break;
            }
        }
    }

    // SET COLOUR SPRITE OBJECTS - GHOSTS FROM PACMAN - NON-POWER UP
    unsigned char colour;
    for( short i = 0; i < 4; i++ ) {
        for( short y = 0; y < 128; y++ ) {
            for( short x = 0; x < 16; x++ ) {
                switch( ghost_strings[ y ][x] ) {
                    case '.':
                        colour = TRANSPARENT;
                        break;
                    case 'B':
                        colour = BLACK;
                        break;
                    case 'C':
                        switch( i ) {
                            case 0:
                                colour = RED;
                                break;
                            case 1:
                                colour = PINK;
                                break;
                            case 2:
                                colour = CYAN;
                                break;
                            case 3:
                                colour = ORANGE;
                                break;
                        }
                        break;
                    case 'W':
                        colour = WHITE;
                        break;
                }
                colour_sprite_bitmap[ y * 16 + x ] = colour;
            }
        }
        set_sprite_bitmaps( LOWER_LAYER, i * 2, &colour_sprite_bitmap[ 0 ] );
    }

    // SET COLOUR SPRITE OBJECTS - GHOSTS FROM PACMAN - POWER UP
    for( short i = 0; i < 4; i++ ) {
        for( short y = 0; y < 128; y++ ) {
            for( short x = 0; x < 16; x++ ) {
                switch( power_ghost_strings[ y ][x] ) {
                    case '.':
                        colour = TRANSPARENT;
                        break;
                    case 'b':
                        colour = BLUE;
                        break;
                    case 'P':
                        colour = 237;
                        break;
                    case 'W':
                        colour = WHITE;
                        break;
                }
                colour_sprite_bitmap[ y * 16 + x ] = colour;
            }
        }
        set_sprite_bitmaps( LOWER_LAYER, i * 2 + 1, &colour_sprite_bitmap[ 0 ] );
    }

    // EVEN SPRITES GHOST NON-POWER, ODD SPRITES GHOST POWER
    set_sprite( LOWER_LAYER, 0, 1, 144, 64, 0, SPRITE_DOUBLE );     set_sprite( LOWER_LAYER, 1, 0, 144, 64, 0, SPRITE_DOUBLE );
    set_sprite( LOWER_LAYER, 2, 1, 464, 64, 2, SPRITE_DOUBLE );     set_sprite( LOWER_LAYER, 3, 0, 464, 64, 2, SPRITE_DOUBLE );
    set_sprite( LOWER_LAYER, 4, 1, 464, 384, 4, SPRITE_DOUBLE );    set_sprite( LOWER_LAYER, 5, 0, 464, 384, 4, SPRITE_DOUBLE );
    set_sprite( LOWER_LAYER, 6, 1, 144, 384, 6, SPRITE_DOUBLE );    set_sprite( LOWER_LAYER, 7, 0, 144, 384, 6, SPRITE_DOUBLE );

    set_sprite_bitmaps( UPPER_LAYER, 0, &pacman_bitmap[0] );
    set_sprite( UPPER_LAYER, 0, 1, 304, 415, 0, 1 );

    for( short i = 0; i < 1280; i++ ) {
        await_vblank_finish(); await_vblank();
        ghost_animation_frame = ( animation_count & 64 ) ? 1 : 0;

        // PACMAN "TUNE" - SLIGHTLY OUT
        if( tune_treble[ trebleposition ] != 0xff ) {
            if( !get_beep_active( 1 ) ) {
                beep( 1, WAVE_UD1, tune_treble[ trebleposition ] * 2 + 3, size_treble[ trebleposition ] << 3 );
                trebleposition++;
            }
        }
        if( tune_bass[ bassposition ] != 0xff ) {
            if( !get_beep_active( 2 ) ) {
                beep( 2, WAVE_UD1, tune_bass[ bassposition ] * 2 + 3, 16 << 3 );
                bassposition++;
            }
        }

        // ANIMATE PACMAN
        set_sprite_attribute( UPPER_LAYER, 0, SPRITE_TILE, ( ( animation_count & 96 ) >> 5 ) );
        set_sprite_attribute( UPPER_LAYER, 0, SPRITE_ACTION, ghost_direction[1] + SPRITE_DOUBLE + ROTATE0 );

        // ANIMATE THE GHOSTS
        for( short i = 0; i < 4; i++ ) {
            if( power ) {
                for( short i = 0; i < 4; i++ ) {
                    // TURN OFF NON-POWER UP SPRITE, TURN ON POWER UP SPRITE AND ANIMATE
                    set_sprite_attribute( LOWER_LAYER, i * 2, SPRITE_ACTIVE, 0 );
                    set_sprite_attribute( LOWER_LAYER, i * 2 + 1, SPRITE_ACTIVE, 1 );
                    set_sprite_attribute( LOWER_LAYER, i * 2 + 1, SPRITE_TILE, ( ( move_count < 140 ) ? 0 : 1 ) * 2 + ghost_animation_frame );
                }
            } else {
                for( short i = 0; i < 4; i++ ) {
                    // TURN ON NON-POWER UP SPRITE AND ANIMATE, TURN OFF POWER UP SPRITE
                    set_sprite_attribute( LOWER_LAYER, i * 2, SPRITE_TILE, ghost_direction[i] * 2 + ghost_animation_frame );
                    set_sprite_attribute( LOWER_LAYER, i * 2, SPRITE_ACTIVE, 1 );
                    set_sprite_attribute( LOWER_LAYER, i * 2 + 1, SPRITE_ACTIVE, 0 );
                }
            }
        }

        // MOVE THE GHOSTS
        for( short i = 0; i <4; i++ ) {
            switch( ghost_direction[i] ) {
                case 0:
                    updateflag = 0b0000000000001;
                    break;
                case 1:
                    updateflag = 0b0000000100000;
                    break;
                case 2:
                    updateflag = 0b0000000011111;
                    break;
                case 3:
                    updateflag = 0b0001111100000;
                    break;
            }
            update_sprite( LOWER_LAYER, i * 2, updateflag );
            update_sprite( LOWER_LAYER, i * 2 + 1, updateflag );
        }

        // CHECK IF MOVED 160 SPACES
        move_count++;
        if( move_count == 160 ) {
            move_count = 0;
            for( short i = 0; i < 4; i++ ) {
                ghost_direction[i] = ( ghost_direction[i] + 1 ) & 3;
            }
            do_power++;
            if( do_power == 4 ) {
                power = 1- power;
                do_power = 0;
            }
        }
        animation_count++;
    }
}

void floatdemo() {
    union Point2D Square[4] = { { -100, -100 }, { 100, -100 }, { 100, 100 }, { -100, 100 } };
    unsigned char colour = 255;
    float scale = 1;

    displayreset(); bitmap_256( true );
    tpu_print_centre( 58, TRANSPARENT, WHITE, 1, "SOFTWARE VECTOR TEST" );
    if( CSRisa() & 0b100000 ) {
        tpu_print_centre( 59, TRANSPARENT, WHITE, 0, "FLOATING POINT UNIT AVAILABLE" );
    } else {
        tpu_print_centre( 59, TRANSPARENT, WHITE, 0, "SOFT FLOAT ONLY" );
    }
    for( short angle = 0; angle < 360; angle += 1 ) {
        DrawVectorShape2D( colour, Square, 4, 160, 120, angle, scale );
        colour = ( colour == 0 ) ? 255 : colour - 1;
        scale = scale - 0.005;
    }
    sleep1khz( 2000, 0 );
}

int main( int argc, char **argv ) {
	for( int loop = 0; loop < 4; loop++ ) {
        colourtable();

        backgrounddemo();

        tilemapdemo();

        gpudemo();

        ditherdemo();

        spritedemo();

        floatdemo();
    }
}
